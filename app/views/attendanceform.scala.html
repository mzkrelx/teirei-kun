@(user: GitHubUser, program: Option[Program])

@import helper._
@import AttendChoice._

@program.map { p =>    
  @form(action = routes.Attendances.addAttendance(p.id.get.toInt), 'id -> "form") {
    <div class="control-group">
      <label class="control-label" for="input_name">名前</label>
      <div class="controls">
        <input type="text" id="input_name" class="input-medium" name="new_name" value="@user.name">
      </div>
    </div>
    <table id="attend-table" class="table table-bordered" style="width: auto">
      <thead>
        <tr>
          <th class="span2">日程</td>
          <th style="background-color: #D9EDF7;">出席</td>
          <th style="background-color: #D9EDF7;">コメント</td>
        </tr>
      </thead>

      <tbody>
      @p.schedules.map { s =>
        <tr>
          <th>@s.date.toString("yyyy-MM-dd(E)")</th>
          <td class="select-attendance" style="background-color: #D9EDF7;">
            <!-- 新規入力 -->
            <select name="attend_choice_@s.id" style="width: 50px">
              <option value="@Mitei.id" selected>-</option>
              <option value="@Maru.id">○</option>
              <option value="@Sankaku.id">△</option>
              <option value="@Batu.id">×</option>
            </select>
          </td>
          <td style="background-color: #D9EDF7;">
            <input type="text" class="input-xlarge" name="memo_@s.id" value="">
          </td>
        </tr>
      }
      </tbody>
    </table>
    
    <div class="form-actions">
      <button type="submit" class="btn btn-primary">登録する</button>
      <button class="btn" data-dismiss="modal" aria-hidden="true">キャンセル</button>
    </div>    
  }
}
